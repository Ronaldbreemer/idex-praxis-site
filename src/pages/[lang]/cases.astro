---
import BaseLayout from "../../layouts/BaseLayout.astro";
import CTA from "../../components/CTA.astro";
import { langFromParams, t, withLang, SUPPORTED } from "../../lib/i18n";

export const getStaticPaths = () => SUPPORTED.map((lang) => ({ params: { lang } }));

const lang = langFromParams(Astro.params);
const c = t(lang);
---
<BaseLayout title={`${c.cases.title} - IDEX Praxis`} description={c.meta.desc} lang={lang}>
  <section class="section">
    <div class="container">
      <div class="card">
        <div class="kicker">{c.cases.kicker}</div>
        <h1 class="hero-title" style="margin-top:12px;">{c.cases.title}</h1>
        <p style="margin-top:14px; max-width:95ch;">{c.cases.intro}</p>

        <div class="grid" style="margin-top:18px;">
          {c.cases.items.map((item) => (
            <div class="card">
              <h2 style="font-size:1.6rem;">{item.t}</h2>
              <p style="margin-top:10px; opacity:.9;"><strong>{item.s}</strong></p>

              <div class="split" style="margin-top:14px;">
                <div>
                  <div class="kicker">{c.cases.labels.pain}</div>
                  <ul class="list">
                    {item.k.map((k) => (
                      <li class="li"><span class="check"></span><p>{k}</p></li>
                    ))}
                  </ul>
                </div>
                <div>
                  <div class="kicker">{c.cases.labels.solution}</div>
                  <p style="margin-top:10px;">{item.o}</p>

                  <div class="kicker" style="margin-top:14px;">{c.cases.labels.result}</div>
                  <ul class="list">
                    {item.r.map((r) => (
                      <li class="li"><span class="check"></span><p>{r}</p></li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <CTA
    lang={lang}
    title={c.cases.ctaTitle}
    body={c.cases.ctaBody}
    primaryHref={withLang(lang, "contact")}
    primaryLabel={c.cta.kennismaking}
    secondaryHref={withLang(lang, "aanbod")}
    secondaryLabel={c.cta.aanbod}
  />
</BaseLayout>
